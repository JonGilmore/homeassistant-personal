  - platform: mqtt
    name: "Kitchen Sink Moisture"
    state_topic: "smartthings/Kitchen Sink/water"
    payload_on: "wet"
    payload_off: "dry"
    device_class: moisture
    retain: true
  - platform: mqtt
    name: "Kitchen Fridge Moisture"
    state_topic: "smartthings/Kitchen Fridge/water"
    payload_on: "wet"
    payload_off: "dry"
    device_class: moisture
    retain: true
  - platform: mqtt
    name: "Kitchen Dishwasher Moisture"
    state_topic: "smartthings/Kitchen Dishwasher/water"
    payload_on: "wet"
    payload_off: "dry"
    device_class: moisture
    retain: true
  - platform: mqtt
    name: "Basement Fridge Moisture"
    state_topic: "smartthings/Basement Fridge/water"
    payload_on: "wet"
    payload_off: "dry"
    device_class: moisture
    retain: true
  - platform: mqtt
    name: "Basement Freezer Moisture"
    state_topic: "smartthings/Basement Freezer/water"
    payload_on: "wet"
    payload_off: "dry"
    device_class: moisture
    retain: true
  - platform: hikvision
    host: 192.168.45.233
    username: !secret hik_usr
    password: !secret hik_pwd
    customize:
      motion:
        delay: 30
  - platform: hikvision
    host: 192.168.45.231
    username: !secret hik_usr
    password: !secret hik_pwd
    customize:
      motion:
        delay: 30
  - platform: hikvision
    host: 192.168.45.230
    username: !secret hik_usr
    password: !secret hik_pwd
    customize:
      motion:
        delay: 30

  - platform: template
    sensors:
      aeotec_multisensor_motion_template_lr:
        device_class: motion
        value_template: "{%if states.sensor.living_room_multisensor_burglar.state == '8' %}Violated{% elif states.sensor.living_room_multisensor_burglar.state == '0' %}Normal{% elif states.sensor.living_room_multisensor_burglar.state == '3' %}Tamper Detected{% endif %}"
        friendly_name: "Living Room PIR"
      aeotec_multisensor_motion_template_office:
        device_class: motion
        value_template: "{%if states.sensor.office_multisensor_burglar.state == '8' %}Violated{% elif states.sensor.office_multisensor_burglar.state == '0' %}Normal{% elif states.sensor.office_multisensor_burglar.state == '3' %}Tamper Detected{% endif %}"
        friendly_name: "Office PIR"
      master_closet_pir:
        device_class: motion
        value_template: "{%if states.sensor.master_closet_burglar.state == '8' %}Violated{% elif states.sensor.master_closet_burglar.state == '0' %}Normal{% endif %}"
        friendly_name: "Master Closet PIR"
      pantry_pir:
        device_class: motion
        value_template: "{%if states.sensor.pantry_burglar.state == '8' %}Violated{% elif states.sensor.pantry_burglar.state == '0' %}Normal{% endif %}"
        friendly_name: "Pantry PIR"
      main_fridge_open_close:
        device_class: opening
        value_template: "{%if states.sensor.main_fridge_access_control.state == '23' %}Closed{% elif states.sensor.main_fridge_access_control.state == '22' %}Open{% else %}Unknown{% endif %}"
        friendly_name: "Main Fridge - open/close"
      basement_motions:
        friendly_name: 'Basement Motions'
        device_class: motion
        value_template: >-
          {%- if is_state("sensor.basement_motion_2", "Violated")
          or is_state("sensor.basement_motion", "Violated")
          or is_state("sensor.bsmt_stairs_mtn", "Violated")
          or is_state("sensor.bsmt_storage_mtn", "Violated")-%}
          True
          {%- else -%}
          False
          {%- endif %}
      main_motions:
        friendly_name: 'Main Motions'
        device_class: motion
        value_template: >-
          {%- if is_state("sensor.foyer_motion", "Violated")
          or is_state("sensor.kitchen_motion", "Violated")
          or is_state("sensor.aeotec_multisensor_motion_template_lr", "Violated")
          or is_state("sensor.aeotec_multisensor_motion_template_office", "Violated")-%}
          True
          {%- else -%}
          False
          {%- endif %}
      garage_doors:
        friendly_name: 'Garage Doors'
        device_class: door
        value_template: >-
          {%- if is_state("sensor.double_garage", "Violated")
          or is_state("sensor.single_garage", "Violated")-%}
          True
          {%- else -%}
          False
          {%- endif %}
      moisture_sensors:
        friendly_name: 'Moisture Sensors'
        device_class: moisture
        value_template: >-
          {%- if is_state("sensor.watr_htr_snsr", "Violated")
          or is_state("sensor.frdge_leak_snsr", "Violated")
          or is_state("binary_sensor.basement_freezer_moisture", "on")
          or is_state("binary_sensor.basement_fridge_moisture", "on")
          or is_state("binary_sensor.kitchen_dishwasher_moisture", "on")
          or is_state("binary_sensor.kitchen_fridge_moisture", "on")
          or is_state("binary_sensor.kitchen_sink_moisture", "on")
          or is_state("sensor.frdge_leak_snsr", "Violated")-%}
          True
          {%- else -%}
          False
          {%- endif %}
